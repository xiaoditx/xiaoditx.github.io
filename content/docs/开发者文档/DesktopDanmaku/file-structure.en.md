---
title: "File Organization Documentation"
---

> [!note]
> This document was generated by AI and may contain errors or incomplete parts.

This document describes the file organization structure of the DesktopDanmaku project, helping developers understand the overall architecture of the project and the functions of each file.

## Project Root Directory

```
DesktopDanmaku/
├── .vscode/            # VS Code configuration files
├── docs/              # Project documentation
├── include/           # Header files directory
├── src/               # Source files directory
├── .gitignore         # Git ignore file configuration
├── LICENSE            # License file
├── README.MD          # Project description file
├── installer.iss      # Inno Setup installation script
└── makefile           # Compilation configuration file
```

## Directory Details

### 1. .vscode/

Directory for VS Code editor configuration files, containing project-specific editor settings.

### 2. docs/

Project documentation directory, storing various project-related documents.

- **makefileHelper.txt** - makefile auxiliary explanation file
- **file-structure.md** - This file, project file organization structure documentation

### 3. include/

Header files directory, storing all header files of the project, classified by functional modules.

#### 3.1 include/danmaku/

Header files related to danmaku (bullet comments).

- **dmkitem.hpp** - Definition and related operations of danmaku items

#### 3.2 include/functions/

Header files for general function functions.

- **files.hpp** - File operation related functions
- **others.hpp** - Other auxiliary functions
- **randnum.hpp** - Random number generation related functions

#### 3.3 include/windows/

Header files related to windows.

- **base.hpp** - Window basic definitions
- **elements.hpp** - Window element definitions
- **extraElementInfo.hpp** - Extra element information definitions
- **font.hpp** - Font related definitions
- **main.hpp** - Main window definitions
- **overlay.hpp** - Overlay window definitions

#### 3.4 Root Header Files

- **debug.hpp** - Debug related definitions
- **main.hpp** - Main program entry related definitions

### 4. src/

Source files directory, storing all source files of the project, corresponding to the include/ directory structure.

#### 4.1 src/danmaku/

Source files related to danmaku.

- **dmkitem.cpp** - Implementation of danmaku items

#### 4.2 src/functions/

Source files for general function functions.

- **files.cpp** - Implementation of file operation related functions
- **others.cpp** - Implementation of other auxiliary functions
- **randnum.cpp** - Implementation of random number generation related functions

#### 4.3 src/windows/

Source files related to windows.

- **elementID.cpp** - Implementation of element ID management
- **elements.cpp** - Implementation of window elements
- **main.cpp** - Implementation of main window
- **overlay.cpp** - Implementation of overlay window

#### 4.4 Root Source Files

- **debug.cpp** - Implementation of debug related functions
- **desktopDanmaku.exe.manifest** - Application manifest file
- **list.rc** - Resource file
- **main.cpp** - Implementation of main program entry

## File Function Description

### Core Files

| File Path | Function Description |
|---------|---------------------|
| src/main.cpp | Main program entry, responsible for initializing and starting the application |
| include/main.hpp | Main program entry related definitions |
| include/debug.hpp | Debug related definitions and macros |
| src/debug.cpp | Debug function implementation |

### Danmaku System

| File Path | Function Description |
|---------|---------------------|
| include/danmaku/dmkitem.hpp | Definition and related operations of danmaku items |
| src/danmaku/dmkitem.cpp | Implementation of danmaku items |

### Window System

| File Path | Function Description |
|---------|---------------------|
| include/windows/base.hpp | Window basic definitions and general window operations |
| include/windows/main.hpp | Main window definitions |
| include/windows/overlay.hpp | Overlay window definitions (for displaying danmaku) |
| include/windows/elements.hpp | Window element definitions (such as buttons, text boxes, etc.) |
| include/windows/extraElementInfo.hpp | Extra element information definitions |
| include/windows/font.hpp | Font related definitions and operations |
| src/windows/main.cpp | Implementation of main window |
| src/windows/overlay.cpp | Implementation of overlay window |
| src/windows/elements.cpp | Implementation of window elements |
| src/windows/elementID.cpp | Implementation of element ID management |

### Utility Functions

| File Path | Function Description |
|---------|---------------------|
| include/functions/files.hpp | File operation related functions (such as reading configuration files) |
| include/functions/others.hpp | Other auxiliary functions |
| include/functions/randnum.hpp | Random number generation related functions |
| src/functions/files.cpp | Implementation of file operation related functions |
| src/functions/others.cpp | Implementation of other auxiliary functions |
| src/functions/randnum.cpp | Implementation of random number generation related functions |

### Configuration and Build Files

| File Path | Function Description |
|---------|---------------------|
| makefile | Compilation configuration file, defining compilation rules and targets |
| installer.iss | Inno Setup installation script, used to generate installation packages |
| .gitignore | Git ignore file configuration, specifying files that do not need version control |
| LICENSE | License file, defining the project's open source agreement |
| README.MD | Project description file, containing project introduction, function list and build instructions |

## Code Organization Structure

The project adopts a modular design with a clear code organization structure:

1. **Layered Structure**: Separate header files and source files, stored in include/ and src/ directories respectively
2. **Functional Modularization**: Divide code into multiple modules according to functions, such as danmaku module, window module, utility function module, etc.
3. **Naming Conventions**: File and directory naming is clear, reflecting their functions and purposes

## Development Suggestions

1. **New Files**: When adding new features, new files should be placed in the corresponding directories according to the existing directory structure
2. **Code Style**: Maintain consistency with existing code style to ensure code readability
3. **Documentation Update**: When modifying file structure or adding new files, this document should be updated in a timely manner

## Project Technology Stack

- **Development Language**: C++17
- **Platform**: Windows
- **Technology**: win32 API, GDI+
- **Build Tool**: GNU Make
- **Development Environment**: MSYS2 (MingGW64), VS Code

---

This document aims to help developers quickly understand the project's file organization structure. If you have any questions or suggestions, please contact the project maintainer.