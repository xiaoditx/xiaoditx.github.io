---
title: "コンパイルの説明"
---

## 前提条件

64ビットプログラムをコンパイルするには、以下のソフトウェアが必要です：

- GNU make（`make`コマンドで呼び出し可能、バージョン4.4.x以上が必要）

- g++（`g++`コマンドで呼び出し可能、最低C++17構文をサポートする必要があります）

- windres.exe（`windres`コマンドで呼び出し可能）

32ビットプログラムをコンパイルするには、g++は必要ありませんが、32ビットのg++が必要です。`i686-w64-mingw32-g++`コマンド形式で呼び出せる必要があります。この名前でない場合は、makefileの10行目を変更してください：

```make
CXX      = i686-w64-mingw32-g++
```

インストーラーをコンパイルするには、以下のソフトウェアが必要です：

- Inno Setup（できれば`iscc`コマンドで呼び出せるようにする）

## ソフトウェア本体のコンパイル

ルートディレクトリで`make`コマンドを使用すると、ソフトウェア本体をコンパイルできます。実行が完了するまで待ってから、`./build/64/`に移動してコンパイル結果を確認してください。

makeの具体的な使用方法の詳細については、`make help`を使用するか、[makefileHelper.txt](makefileHelper.txt)を参照してください。

## ソフトウェアインストーラーのコンパイル

ルートディレクトリで`iscc /DMyAppArch="64" installer.iss`を使用すると、64ビットソフトウェアのインストーラーが生成され、ファイル名は`./build/installer/installer_x64.exe`となります。

ルートディレクトリで`iscc /DMyAppArch="32" installer.iss`を使用すると、32ビットソフトウェアのインストーラーが生成され、ファイル名は`./build/installer/installer_x86.exe`となります。

> [!note]
> Inno SetupのGUIエディターでinstaller.issを開いてコンパイルすることもできますが、この場合は32ビットインストーラーをコンパイルするには、installer.issの内容を変更する必要があります。
>
> ファイルの11行目を見つけてください：
>
> ```inno setup
>   #define MyAppArch "64"
> ```
>
> 以下のように変更してください：
> ```inno setup
>   #define MyAppArch "32"
> ```